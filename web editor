// Create a container to center the button
let container = document.createElement('div');
container.style.position = 'absolute';
container.style.top = '50%';
container.style.left = '50%';
container.style.transform = 'translate(-50%, -50%)';
container.style.display = 'flex';
container.style.flexDirection = 'column';
container.style.alignItems = 'center';
document.body.appendChild(container);

// Create the main button
let mainButton = document.createElement('button');
mainButton.textContent = 'Show Dropdown';
mainButton.style.padding = '10px 20px';
mainButton.style.fontSize = '16px';
mainButton.style.cursor = 'pointer';
mainButton.style.backgroundColor = '#007bff';
mainButton.style.color = 'white';
mainButton.style.border = 'none';
mainButton.style.borderRadius = '5px';
container.appendChild(mainButton);

// Create the dropdown container
let dropdown = document.createElement('div');
dropdown.style.maxHeight = '0';
dropdown.style.overflow = 'hidden';
dropdown.style.transition = 'max-height 0.5s ease-out, opacity 0.5s ease-out';
dropdown.style.opacity = '0';
dropdown.style.borderRadius = '5px';
dropdown.style.width = '200px';
container.appendChild(dropdown);

// Add smooth sliding animation for buttons using safe DOM manipulation
let styleElement = document.createElement('style');
styleElement.appendChild(document.createTextNode(`
  .dropdown-button {
    display: block;
    width: 100%;
    margin-bottom: 5px;
    padding: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
    transition: background-color 0.3s ease;
  }

  .dropdown-button:hover {
    background-color: #0056b3;
  }
`));
document.head.appendChild(styleElement);

// Create the "Add Text" button inside the dropdown
let addTextButton = document.createElement('button');
addTextButton.textContent = 'Add Text';
addTextButton.className = 'dropdown-button';
dropdown.appendChild(addTextButton);

// Placeholder for other buttons
let button2 = document.createElement('button');
button2.textContent = 'Button 2';
button2.className = 'dropdown-button';
dropdown.appendChild(button2);

let button3 = document.createElement('button');
button3.textContent = 'Button 3';
button3.className = 'dropdown-button';
dropdown.appendChild(button3);

// Toggle dropdown visibility with sliding animation
mainButton.addEventListener('click', () => {
  if (dropdown.style.maxHeight === '0px' || dropdown.style.maxHeight === '') {
    dropdown.style.maxHeight = '200px'; // Adjust based on number of buttons
    dropdown.style.opacity = '1';
  } else {
    dropdown.style.maxHeight = '0';
    dropdown.style.opacity = '0';
  }
});

// Handle the Add Text button click
addTextButton.addEventListener('click', () => {
  const userInput = prompt('Enter the text to add:');
  if (userInput) {
    const newTextElement = document.createElement('p');
    newTextElement.textContent = userInput;
    document.body.appendChild(newTextElement);
  }
});
